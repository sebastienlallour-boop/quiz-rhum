<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Rhum - Connaisseur</title>
    <style>
        /* Couleurs et Th√®me Rhum */
        :root {
            --primary: #d35400; /* Rhum Ambr√© */
            --secondary: #fdf2e9; /* Fond Clair */
            --dark: #2c3e50;
            --correct: #27ae60;
            --wrong: #c0392b;
            --barrel-brown: #8b4513;
        }

        /* 1. Visuel Global */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--dark);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f4f6f7;
            /* Si vous voulez une image de fond globale : */
            /* background-image: url('URL_DE_VOTRE_IMAGE_DE_FOND'); */
            /* background-size: cover; */
        }

        .quiz-container {
            background: white;
            width: 100%;
            max-width: 600px;
            border-radius: 12px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
            padding: 30px;
            transition: all 0.3s ease-in-out;
        }

        /* 2. Styles de la Page d'Accueil */
        #welcome-area {
            text-align: center;
        }

        .welcome-title {
            color: var(--primary);
            font-size: 2.5em;
            margin-bottom: 10px;
            border-bottom: 3px solid var(--primary);
            display: inline-block;
            padding-bottom: 5px;
        }

        /* Placeholder pour l'illustration de la page d'accueil */
        .welcome-illustration {
            width: 100%;
            height: 200px;
            background-color: var(--barrel-brown); /* F√ªt de rhum */
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 4em;
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        /* NOTE: Pour l'illustration, remplacez "üå¥" par votre image, ou utilisez une ic√¥ne ou une couleur de fond. */

        .welcome-description {
            font-size: 1.1em;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* Styles du Quiz */
        .header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 10px;
        }

        .header h1 { margin: 0; color: var(--dark); font-size: 1.5em;}
        .score-live { font-weight: bold; color: #7f8c8d; margin-top: 5px; }

        .question-card { margin-bottom: 20px; }
        
        .question-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            color: var(--primary);
            margin-bottom: 10px;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 1px;
        }

        /* Visuel d'accentuation par question (1. Visuels) */
        .question-text::before {
            content: "ü•É "; /* Un petit visuel pour l'accentuation */
            font-size: 1.2em;
            margin-right: 5px;
            color: var(--primary);
        }
        
        .question-text {
            font-size: 1.2em;
            margin-bottom: 20px;
            line-height: 1.5;
            padding-left: 5px;
        }

        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-btn {
            background: white;
            border: 2px solid #bdc3c7;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            text-align: left;
            transition: all 0.2s;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background-color: var(--secondary);
        }

        .option-btn.correct {
            background-color: #d4efdf;
            border-color: var(--correct);
            color: var(--correct);
        }

        .option-btn.wrong {
            background-color: #fadbd8;
            border-color: var(--wrong);
            color: var(--wrong);
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background-color: #ecf0f1;
            display: none;
        }

        /* Style pour les boutons g√©n√©raux */
        .action-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.2s;
        }

        .action-btn:hover { background-color: #a04000; }
        
        /* 3. Bouton sp√©cifique pour l'email */
        #email-result-btn {
            background-color: var(--correct);
            margin-bottom: 10px;
        }
        
        #email-result-btn:hover {
            background-color: #1a7c41;
        }


        .results-card {
            text-align: center;
        }
        
        .final-score {
            font-size: 3em;
            font-weight: bold;
            color: var(--primary);
        }
    </style>
</head>
<body>

<div class="quiz-container">
    
    <div id="welcome-area">
        <h1 class="welcome-title">Quiz Rhum</h1>
        <div class="welcome-illustration">
            üå¥
            </div>
        <p class="welcome-description">
            **Testez vos connaissances sur le roi des spiritueux :** Plongez dans l'univers fascinant du rhum et d√©couvrez si vous √™tes un v√©ritable connaisseur de ce spiritueux l√©gendaire.
        </p>
        <button class="action-btn" onclick="startQuiz()">Commencer le Quiz</button>
    </div>

    <div id="quiz-area" style="display:none;">
        <div class="header">
            <h1>Connaisseur du Rhum</h1>
            <div class="score-live" id="progress-text"></div>
        </div>

        <div class="question-card">
            <div class="question-meta">
                <span id="q-difficulty">Difficult√©</span>
                <span id="q-points">Points</span>
            </div>
            <div class="question-text" id="question-text"></div>
            <div class="options-grid" id="options-container">
                </div>
        </div>

        <div class="feedback" id="feedback-area"></div>
        <button class="action-btn" id="next-btn" style="display:none" onclick="nextQuestion()">Question Suivante</button>
    </div>

    <div class="results-card" id="results-area" style="display:none;">
        <h2>Quiz Termin√© !</h2>
        <p>Votre score final est de :</p>
        <div class="final-score"><span id="final-score-val">0</span> / 30</div>
        <p id="final-message"></p>
        
        <button class="action-btn" id="email-result-btn" onclick="sendEmail()">
            Je communique mon r√©sultat
        </button>
        
        <button class="action-btn" onclick="location.reload()">Recommencer</button>
    </div>
</div>

<script>
    // Donn√©es du Quiz (Identiques √† la version pr√©c√©dente)
    const quizData = [
        {
            q: "Quel √©l√©ment diff√©rencie le plus clairement un rhum agricole d‚Äôun rhum traditionnel ?",
            options: ["Le type de f√ªts utilis√©s", "Le climat de la distillerie", "La mati√®re premi√®re : vesou ou m√©lasse"],
            correct: 2,
            points: 1,
            explanation: "Le rhum agricole est fait √† partir de pur jus de canne (vesou), le traditionnel √† partir de m√©lasse."
        },
        {
            q: "Le vesou est :",
            options: ["Le jus de canne √† sucre frais press√©", "Un sirop de canne concentr√©", "Un distillat de m√©lasse"],
            correct: 0,
            points: 2,
            explanation: "Le vesou est le terme technique d√©signant le jus extrait directement du broyage de la canne."
        },
        {
            q: "La m√©lasse donne souvent des rhums :",
            options: ["Neutres et peu aromatiques", "Plus ronds, parfois gourmands", "L√©gers et floraux sans exception"],
            correct: 1,
            points: 3,
            explanation: "La m√©lasse, issue du sucre cuit, tend √† donner des notes de caramel et une certaine rondeur."
        },
        {
            q: "Quelle est l‚Äôune des cons√©quences d‚Äôune fermentation longue ?",
            options: ["Favorise les ar√¥mes complexes (fruit√©s/fermentaires)", "Donne un rhum tr√®s l√©ger", "R√©duit syst√©matiquement l'alcool"],
            correct: 0,
            points: 1,
            explanation: "Le temps permet aux levures de cr√©er des esters complexes et aromatiques."
        },
        {
            q: "Une fermentation courte donne g√©n√©ralement :",
            options: ["Des ar√¥mes lourds et √©pais", "Des rhums exclusivement vieillis", "Des rhums plus l√©gers et fruit√©s"],
            correct: 2,
            points: 2,
            explanation: "Une fermentation rapide limite les cong√©n√®res lourds pour un r√©sultat plus l√©ger."
        },
        {
            q: "Une fermentation longue permet surtout :",
            options: ["De r√©duire le taux d‚Äôalcool", "De d√©velopper des ar√¥mes complexes, riches en esters", "D‚Äôaromatiser avec des fruits"],
            correct: 1,
            points: 3,
            explanation: "C'est le secret des rhums 'Grand Ar√¥me' ou High Ester."
        },
        {
            q: "La distillation consiste principalement √† :",
            options: ["Sucrer le rhum", "S√©parer l‚Äôalcool de l‚Äôeau par chauffage", "Embouteiller le distillat"],
            correct: 1,
            points: 1,
            explanation: "C'est un proc√©d√© de s√©paration thermique bas√© sur les points d'√©bullition."
        },
        {
            q: "Le pot still est souvent associ√© √† :",
            options: ["Une distillation √† froid", "Des rhums tr√®s neutres", "Un style aromatique riche et puissant"],
            correct: 2,
            points: 2,
            explanation: "L'alambic √† repasse conserve plus d'√©l√©ments lourds et aromatiques que la colonne."
        },
        {
            q: "La distillation en colonne permet g√©n√©ralement :",
            options: ["Une production continue et optimis√©e", "Une production artisanale", "Un taux d'alcool faible"],
            correct: 0,
            points: 3,
            explanation: "C'est la m√©thode industrielle par excellence pour les grands volumes."
        },
        {
            q: "Quel climat acc√©l√®re le vieillissement d'un rhum ?",
            options: ["Tropical chaud et humide", "Sec et froid", "Alpin"],
            correct: 0,
            points: 1,
            explanation: "La chaleur dilate le bois et acc√©l√®re les r√©actions chimiques."
        },
        {
            q: "Un vieillissement en climat tropical a pour effet :",
            options: ["D‚Äôacc√©l√©rer la maturation et les ar√¥mes bois√©s", "De neutraliser le bois", "De r√©duire l'alcool drastiquement"],
            correct: 0,
            points: 2,
            explanation: "La 'part des anges' est √©lev√©e, concentrant le rhum et extrayant le bois rapidement."
        },
        {
            q: "Un rhum fini en f√ªt de Pedro Xim√©nez aura souvent :",
            options: ["Un profil sec et tannique", "Une texture saline", "Des notes liquoreuses, raisin sec et caramel"],
            correct: 2,
            points: 3,
            explanation: "Le f√ªt de ce vin doux l√®gue ses ar√¥mes sucr√©s et fruit√©s au rhum."
        },
        {
            q: "Quel est l‚Äôun des avantages de l‚Äôassemblage ?",
            options: ["Cr√©er un produit √©quilibr√© et complexe", "Augmenter la production sans distiller", "R√©duire le sucre"],
            correct: 0,
            points: 1,
            explanation: "L'assemblage permet d'harmoniser les profils et d'assurer la constance."
        },
        {
            q: "Un rhum 'mono-f√ªt' (Single Cask) :",
            options: ["Est un assemblage de 3 cuv√©es", "Vient d‚Äôun unique f√ªt", "Est un rhum brut sans distillation"],
            correct: 1,
            points: 2,
            explanation: "Comme son nom l'indique, il provient d'une seule barrique sp√©cifique."
        },
        {
            q: "La m√©thode Solera permet :",
            options: ["De produire un monoc√©page", "De filtrer via la canne", "Int√©grer en continu vieux et jeunes rhums"],
            correct: 2,
            points: 3,
            explanation: "C'est un syst√®me dynamique de m√©lange vertical pour homog√©n√©iser les √¢ges."
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    
    // √âl√©ments du DOM
    const welcomeArea = document.getElementById("welcome-area");
    const quizArea = document.getElementById("quiz-area");
    const resultsArea = document.getElementById("results-area");

    const questionText = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    const progressText = document.getElementById("progress-text");
    const pointsDisplay = document.getElementById("q-points");
    const feedbackArea = document.getElementById("feedback-area");
    const nextBtn = document.getElementById("next-btn");

    /**
     * Lance le quiz en cachant la page d'accueil.
     */
    function startQuiz() {
        welcomeArea.style.display = "none";
        quizArea.style.display = "block";
        loadQuestion();
    }

    function loadQuestion() {
        const currentData = quizData[currentQuestionIndex];
        
        questionText.textContent = currentData.q;
        pointsDisplay.textContent = currentData.points + (currentData.points > 1 ? " Points" : " Point");
        progressText.textContent = `Question ${currentQuestionIndex + 1} / ${quizData.length}`;
        
        optionsContainer.innerHTML = "";
        feedbackArea.style.display = "none";
        nextBtn.style.display = "none";

        currentData.options.forEach((opt, index) => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            btn.textContent = opt;
            btn.onclick = () => checkAnswer(index, btn);
            optionsContainer.appendChild(btn);
        });
    }

    function checkAnswer(selectedIndex, btnElement) {
        const currentData = quizData[currentQuestionIndex];
        const buttons = optionsContainer.querySelectorAll(".option-btn");
        
        // D√©sactiver tous les boutons
        buttons.forEach(btn => btn.disabled = true);

        if (selectedIndex === currentData.correct) {
            btnElement.classList.add("correct");
            score += currentData.points;
            feedbackArea.innerHTML = `<strong>Correct !</strong> <br>${currentData.explanation}`;
            feedbackArea.style.borderLeft = "5px solid var(--correct)";
        } else {
            btnElement.classList.add("wrong");
            buttons[currentData.correct].classList.add("correct");
            feedbackArea.innerHTML = `<strong>Incorrect.</strong> La bonne r√©ponse √©tait : <em>${currentData.options[currentData.correct]}</em><br>${currentData.explanation}`;
            feedbackArea.style.borderLeft = "5px solid var(--wrong)";
        }

        feedbackArea.style.display = "block";
        nextBtn.style.display = "block";
        
        if (currentQuestionIndex === quizData.length - 1) {
            nextBtn.textContent = "Voir les r√©sultats";
        }
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < quizData.length) {
            loadQuestion();
        } else {
            showResults();
        }
    }

    function showResults() {
        quizArea.style.display = "none";
        resultsArea.style.display = "block";
        
        const finalScoreVal = document.getElementById("final-score-val");
        finalScoreVal.textContent = score;

        const msg = document.getElementById("final-message");
        if (score === 30) {
            msg.textContent = "Incroyable ! Un v√©ritable Ma√Ætre de Chai ! ü•É";
        } else if (score >= 20) {
            msg.textContent = "Excellent travail ! Le rhum n'a presque plus de secrets pour vous.";
        } else if (score >= 10) {
            msg.textContent = "Pas mal ! Vous avez de bonnes bases √† consolider.";
        } else {
            msg.textContent = "C'est un d√©but. Une petite r√©vision s'impose !";
        }
    }

    /**
     * Fonction pour envoyer l'email (mailto:) - Int√©gration de sebastienlallour@gmail.com
     */
    function sendEmail() {
        const email = "sebastienlallour@gmail.com";
        // Encodage des caract√®res sp√©ciaux pour l'URL
        const subject = encodeURIComponent("Mon r√©sultat au Quiz Rhum");
        const body = encodeURIComponent(`Voici mon r√©sultat : ${score}/30`);
        
        // Cr√©e le lien mailto: et ouvre la messagerie par d√©faut
        window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
    }

    // L'ex√©cution du script au chargement de la page n'appelle plus loadQuestion(), 
    // l'utilisateur doit cliquer sur "Commencer le Quiz".
</script>

</body>
</html>
